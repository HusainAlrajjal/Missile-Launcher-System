import random, time


# read datset from a txt file
def import_primes(address):
    dataset = list()
    file1 = open(address, "r")
    content = file1.read()
    records = content.split("\n")
    for i in records:
        dataset += i.split("\t")

    for i in range(len(dataset)):
        dataset[i] = int(dataset[i])

    file1.close()
    return dataset


address = "10000prime.txt"
primes = import_primes(address)


def fermat_primality_test(n, coprime_bases_list):
    pseudoprime_list = list()
    for i in coprime_bases_list:
        if modExp(i, n - 1, n) == 1:
            pseudoprime_list.append(i)
        else:
            print(n, "is not a prime.\t Reason: ", i)
            return False
    return pseudoprime_list


def gcd(a, b):
    if b == 0:
        return a
    elif a >= b:
        return gcd(b, modExp(a, 1, b))
    else:
        return gcd(b, a)


def ChineseRemainderTheoremSetup(n):
    mk_list = list()
    m = 1
    for i in range(n):
        r = random.randint(0, len(primes) - 1)
        mk_list.append(primes[r])
        m *= mk_list[i]
    a_list = list()
    i = 0
    while i < n:
        r = random.randint(1, mk_list[i] - 1)
        if gcd(r, mk_list[i]) == 1:
            a_list.append(r)
            i += 1
    y_list = list()
    Mk_list = list()

    for i in mk_list:
        Mk_value = m // i
        Mk_list.append(Mk_value)

    for i in range(n):
        y_list.append(multiplicativeInverse(Mk_list[i], mk_list[i]))

    X = 0
    for i in range(n):
        X += Mk_list[i] * a_list[i] * y_list[i]
    X = X % m
    result = [X]
    for i in range(n):
        result.append([a_list[i], mk_list[i]])
    return result


def modExp(b, n, m):
    n = str(bin(n))[2:]
    k = len(n)
    x = 1
    p = b % m
    n_list = list(range(k))
    n_list.reverse()
    for i in n_list:
        if n[i] == '1':
            x = (x * p) % m
        p = (p * p) % m
    return x


def multiplicativeInverse(a, m):
    a = pow(a, 1, m)
    for x in range(1, m):
        if modExp(a * x, 1, m) == 1:
            return x
    return 1


def test(key, X):
    return (modExp(X, 1, key[1])) == key[0]


def main():
    # n = int(input("Choose the number of Generals (n)>>> "))
    n = 5
    result = ChineseRemainderTheoremSetup(n)
    print(result)
    key = result[1]
    print(test(key, result[0]))
    print(test([134, 242], result[0]))

    # t = time.time_ns()
    # j = modExp(1603714835301930972078229412132678812393980131860314787241513836436621328476618338604614731973615086392044501597214767465462964679084714161973242407169876240067724694315652290382900438958301803514828304143960644101659871414328885885903003623018190108603598644313364742670651783532904391370354310814547042535658568560399253495804766672642244008613047615426733331287096046663165506406399967852352531697330943681766162431617999052653936377420817156168759973353824958213459033991291872183951688523761232251663821823894103373955382978909530930169327487359542166145453257433383037677550228946465508577948529385356955310975946560549986180600435917234723288031793480977958582136722190841058865826088288786261258974755020910526562095350805184980594127001528320025230136356910010798486091724449280655182766308300984440533208427050274093071716204471282286965524583145677382781135424657407654373719266422628705482167102787643708479785107796415139937243498146321924051013491011419169174183210853417856962824745121216387250951084683446873989748263762206093933947457411981092407280562696693550125637180431267633446328586021094135307489379306140718143970920811296042777806911041036112110140713940121771273005115506862554782707941034405228632555768025618636447952490240256955527651211848157032471163221681272877050739797307961896474937802972465249259945900318414013981288264938501501324672774216101035380073833991374648498374710668416441156716439755269872678432561976933579416782619115582828725730094856692156524995549768836402885483804688951546656399421821823902761364411274718026142011009589612015920522282077289489004672557106695817728631904144936611006643795620952083023194983968071455703929891761131464562586951430995613195566258687269412385596187656080972138395808068540593163394970760293375727037142496755065515419578854538732303896890117901742447812044355637629818097175324812886030126035067410318738805708162021394851368300018785178076610394238993001645306585257817746273674976407553744469345024625296833997030867260552984605111923664908716010607437589086116230457961999450387086469199367616020275669892591719623152672625587109486579024941717637247751025286235663025091598099021449863670775051906969583684889058991697529070956966864152002085532741973272570941679493056139711618996439737127041693448816773724073669154152213002708106053659692822141793099917018618513898437142055537287023910474619027097128575404161636394918862349480422621574782973726203721475847417675159005137519321889132258340694470630387218688758568511297709423709110481822614357866851028418129417123587860934476194931812278654899966885457543054652811166643975598929031409387756915291767799095405430733767197753674397718276598336961102309032125473134716506762978642505303367401019759621040762266532041808782711384948702212952235252455991368439437652201644148114631425608139913581713582649898325033678488396759408138469230825861646179798598929448286979079468705673536971173726349322307885538541253139665699905225727639198176198340197862409348772752558401211596180868119865295273174341822879836881283205798566111385465812076885764400374782499366955109563399567560565385618044805299861744163270426298126093785378791361894219185003251594763467220047061239864164037241341585751077431174946920727921613000301220099168165551428418011715257076063094522345753920962866237189502317752577882299147729051578789217128570333479644949881158691542645058595070521253652199026084116162117698982137057488745808235658837337245429959894674285332033163297449448276357690997247798491212064052634847354988541513420665236477476560231087946278060267008750082796308889109034532620946218677335477449377287374736770899333599141182677919559568032458947633069989911940754886896795283750105287598725906814013700724242249395877875817900682676490060828726107359873298590658636364318931728071541337840512393838156426817543240763387026303967826367009372099915359565686135791558986511587370463061453802448900766719943458853003073693922813061383536580259184713513444531618672511158222323967492327067436679204068435520538076793972195639761007851363260410124878359726999308776117521569671725219011693292400520024534373010617942435141412113909844087832085323385063637177105459790621504478004316597171551102665472257297510393936293826929389660876553175249751375853053007602274372682877832465016215301053765502035300178458559673980916667205455040448214867296252917492422426128723545368608437271387287408564345982369527182526003664117496004878399108148442946668542896317111650890005613138915783181409706945180748239633204095713280163537299969771725086402689476012558818903232729629889808447394605792744160448064721211088801050093068068143486715330178008846604979661851249716561878461860384535760279010485495086337085817241270819834240583999279707608183891153266864017528260567656545987946415229498941797449806595643704663975228231112808311888299385988507652663110072744307697791703497318981320599240906842377259952944182701161765597360830855002731973886867057537673346410301257969275951912155389182098243219138604317452102360438753055155566620656613722102059697363230535351864745824397166712736609570904769436231520465837098303609901289279010457446672086210041144541152928606467165194970117900966242597211132554051249992494968449554127576353868828578130981704819278688367624397368834174139823425919698069709600774481958527552764345044332257087935875803824092226400623295026680459256926005883718828116440246513385865677860851443210114412334853210366234087562491374327072980981255369881749797970373684168444826025593687486479671377052279451503991105362438566907341555981073989407807598234659583108134861029186106482717640647973886106980469002917613723161535404427946382753548096168719469387675522122855439860749992774885702126523234458319133167383541359741946878358063184575695509398998148143674314129758267460018854846814774465809149125369839147882325351540754300582336828963770285952720803661956513684986055891496481546727060717866732198187644371173313981273875386399443430576303640823060709819632607123071680230490434702556030325112629521356203618487502916456602170936371979043369551759568145933221772921576921206748198221850553014153337781455687061102117141633871212384572213341375915092784287852129823836782960375893326995607385042695301373931306507643789977977690982874547862671368566422859696579097317291226961518101714314373838293672306660133842761344048933284785029197226135659586970600998433303183482879901695549309745945967746362681231279175709435828392471629741164086359415202768472897883737291975581243718136832630979225451956638761037202360590324106043208234623773802379078947023372507012897691518290313700003358061700797577737602611129521497793456400979232200903529844494587865931408952442551538323791860172143737124533146699660289013250965100212490934577795124146074512681443114982712980830013377513889578107141594750817037123270473412643736248589613436411979988589061070740808155246883897800748724269622106843945422488402945892993384940965156070084780137128068578548162366026182657139729241528883524409102369815555212891872132081389737175865043803566904493251282359632991437948596295089840956458151643797370062360151189176484398829275612798308604574875741268047461314357046901592919330056518708763679119563008268504847832765028754687149415025844236707587802204504435663623879438149911855841046085293749265854233691736694900633905907044429228428860948623350344844756638686748108912719251437632047419660299517062679600619618257309434798070984552169305649259304924813950576964821604631445886644624345973024580853738255801865956370057200615649950574882133229535545077624543387166975756055189015958165084469057302023345745107866090392595201070569628213900036640619938895490064719093207394093311923747605212600959589022857632824754458708831251223351525786217673224123301411200641258619377671681817040941689048500970203021398295555423562933012405127256561470425662557439799006999842848895425372904394919773292413662099121685448800076444086520605185566626895642896829542137008269906028489208423089115182669853824034474123139855276449648276004402311222011213157039403662210355694962454369926511213001343554449215318767344257527462130921867957894073707582553479556970308060796834927554883113513234725723067867620565708146164537307456067428606231980016238965570215869500219962398771333443386593747471417751916000505818136031855610928850157700434638932987032805669658877086874504983325735716539365659985481325993705594156839823176041115140465503124510102033448678886664787028172530026997650908115706714834649044246260017642136711393779392425980033296547610937242920914956077638932024805103041531175123434749848296479840125360249814095647641849724869842078154075933737086185515071595772126634514641745327684059984433911838649801204956778669583490251310336070158307079560328084442147627703568631003593273182360801468549997481461812385943848380197528075823652861453501392862176725488550225635040997307533197789778564119303379702116215197829468195590884789635882689526459275054969592362267478868221730557676161430458615853628223693024068634503607528213504914662989520665898474696018198534903397399314097754100993588163466026768257573460650654648291173831643504625726884981167256418525627339323024675103059477688236736568741913260526026018021728850710425826348010839929960742570879118344249284154516081918210665213160689082194996140851358141370546030619705194730280311135348163899151912542985244964815745651717412832738089689566729861922663829239813642009963916637214803113183581798955603722807206239924208056521631977509502616009603866514959830359894359588586403327375857979494605400675216772772523728458642962627968750074663861947119986648620499854912985542507569879843589183036739834978597015733553478481422416925298131538274987905223512766038918606106327881155294909092561764811267845313362872220511692684008420670217336945415037127771521161816654926241386256330598129682380637348694357326797281620878998908784043097074312065164953871549137183705872768272364748937761606195555032295,
    #     1, 4443282643086905700476766658225773299077259174169685991521047657127147270712007293058381000844744592280131462280367665121878967050047211122978380865618425807381667398232610903333422261496423970065527947538211665626636478820595407506137278871134285737506427208596948671016521009474729927604856127830401367582670489059358250529671600130396961098264537470777922466578992433638211234869982284119929884134513747419494355472792122791439006619857250810751407082611648538416245263849842942963358565830502753876164626632024879973649605348333457397052693170537848874336096217656921333396581175038872373557993953346770573369988961172669153132435961564535321372530718813834602214973824190926164432668436723744366544809426238008483559875371767879092911041778246461582932087674223411511309088112529166782666188288500292308618166834907957704548569288117708335095775900183592760251769471962652089103225108344547389835276837173635296491646106539042520035941326041451739454263854994712281752723232315783370127781773073469882080580374559524847933866433744927647519720818736976460177744944170957631305481618801851767376532174505368237232654321925841004562774389137721558082563990181461721023897760323519886351462020797749762901640456927814132969935010449693824229601079235924586208747474324791207779424715929765975260918324641388286581631713334638367149113038542227424755364895071768736099641197385394832885264697709054421254621568407423312628772281383805744238200804645408352844416192976904075331216023922400956993795528523642039615266983224716521014927425592919168799423793010185514631510131380842040307085156832045022026003515800664866329270118430208592367679390664013527355271469840470764849349937990877977556329535342385457015717773119473693280839114918006491451901573065265673670726285725080740963086488722347596488886434231037878060585637232149615494993138462869936966444967851685966933189993900439460934899637197842051989350154718224422097494131101238714952186976560938953913229833194744382264247375376135459506989356002012083381439631497706759185942923417127474880766102705786169740951004373229668539426965646704734513654955077528575484765026676571061527026552267740518608044071495713883808789359946404151281198901201771191117765139705619850023329454183982466327563084590561049487061445650480134262132120153315749790683995613076558056351037785879139942464000788841769237761238919657784711700126564805145368731562881587665383086340002085266183636418079175260809211221128493359696210822960813579274127944558106252482438653368546900927168971327228057883322338966035580938535667145997424043868037538561638577535579268572510510207256078377555141980331736281296264158099716053284425076820962117492875580963514575190160454597107132660762219331161950556691513167474632412896997626039319002272051651230260545889952145407559789642061858442213536270919113106785835095698244039324203024720284279832779161765994516288271868148916190661852529524869639417164555284873722249661713106158590746490026703492689928078363967947804122360488758474596029504734758614804402761801665106429045309745926617004771677240508332489157314338303727985629628280755737445986316384223199445271713355840676716565443799091860680376583946951553684245023648690954622396013138632233869088511387149294823809615723194322555555974280235162715975851492342539800645944736050912920280631362508691753857938850562317793930887540713370760025706743424554122730711924527324057268150567262256583519563591568894907502080650960834940203131230658184878682236572522232959416437883729373592088797917942796177426638358850239707474895382364895246141337350558512000154430776023536009739864868619981488346291510322956579177072361638311756718637151832730562115)
    # t = time.time_ns() - t
    # print(t, j)
    #
    # t = time.time_ns()
    # j = pow(
    #     1603714835301930972078229412132678812393980131860314787241513836436621328476618338604614731973615086392044501597214767465462964679084714161973242407169876240067724694315652290382900438958301803514828304143960644101659871414328885885903003623018190108603598644313364742670651783532904391370354310814547042535658568560399253495804766672642244008613047615426733331287096046663165506406399967852352531697330943681766162431617999052653936377420817156168759973353824958213459033991291872183951688523761232251663821823894103373955382978909530930169327487359542166145453257433383037677550228946465508577948529385356955310975946560549986180600435917234723288031793480977958582136722190841058865826088288786261258974755020910526562095350805184980594127001528320025230136356910010798486091724449280655182766308300984440533208427050274093071716204471282286965524583145677382781135424657407654373719266422628705482167102787643708479785107796415139937243498146321924051013491011419169174183210853417856962824745121216387250951084683446873989748263762206093933947457411981092407280562696693550125637180431267633446328586021094135307489379306140718143970920811296042777806911041036112110140713940121771273005115506862554782707941034405228632555768025618636447952490240256955527651211848157032471163221681272877050739797307961896474937802972465249259945900318414013981288264938501501324672774216101035380073833991374648498374710668416441156716439755269872678432561976933579416782619115582828725730094856692156524995549768836402885483804688951546656399421821823902761364411274718026142011009589612015920522282077289489004672557106695817728631904144936611006643795620952083023194983968071455703929891761131464562586951430995613195566258687269412385596187656080972138395808068540593163394970760293375727037142496755065515419578854538732303896890117901742447812044355637629818097175324812886030126035067410318738805708162021394851368300018785178076610394238993001645306585257817746273674976407553744469345024625296833997030867260552984605111923664908716010607437589086116230457961999450387086469199367616020275669892591719623152672625587109486579024941717637247751025286235663025091598099021449863670775051906969583684889058991697529070956966864152002085532741973272570941679493056139711618996439737127041693448816773724073669154152213002708106053659692822141793099917018618513898437142055537287023910474619027097128575404161636394918862349480422621574782973726203721475847417675159005137519321889132258340694470630387218688758568511297709423709110481822614357866851028418129417123587860934476194931812278654899966885457543054652811166643975598929031409387756915291767799095405430733767197753674397718276598336961102309032125473134716506762978642505303367401019759621040762266532041808782711384948702212952235252455991368439437652201644148114631425608139913581713582649898325033678488396759408138469230825861646179798598929448286979079468705673536971173726349322307885538541253139665699905225727639198176198340197862409348772752558401211596180868119865295273174341822879836881283205798566111385465812076885764400374782499366955109563399567560565385618044805299861744163270426298126093785378791361894219185003251594763467220047061239864164037241341585751077431174946920727921613000301220099168165551428418011715257076063094522345753920962866237189502317752577882299147729051578789217128570333479644949881158691542645058595070521253652199026084116162117698982137057488745808235658837337245429959894674285332033163297449448276357690997247798491212064052634847354988541513420665236477476560231087946278060267008750082796308889109034532620946218677335477449377287374736770899333599141182677919559568032458947633069989911940754886896795283750105287598725906814013700724242249395877875817900682676490060828726107359873298590658636364318931728071541337840512393838156426817543240763387026303967826367009372099915359565686135791558986511587370463061453802448900766719943458853003073693922813061383536580259184713513444531618672511158222323967492327067436679204068435520538076793972195639761007851363260410124878359726999308776117521569671725219011693292400520024534373010617942435141412113909844087832085323385063637177105459790621504478004316597171551102665472257297510393936293826929389660876553175249751375853053007602274372682877832465016215301053765502035300178458559673980916667205455040448214867296252917492422426128723545368608437271387287408564345982369527182526003664117496004878399108148442946668542896317111650890005613138915783181409706945180748239633204095713280163537299969771725086402689476012558818903232729629889808447394605792744160448064721211088801050093068068143486715330178008846604979661851249716561878461860384535760279010485495086337085817241270819834240583999279707608183891153266864017528260567656545987946415229498941797449806595643704663975228231112808311888299385988507652663110072744307697791703497318981320599240906842377259952944182701161765597360830855002731973886867057537673346410301257969275951912155389182098243219138604317452102360438753055155566620656613722102059697363230535351864745824397166712736609570904769436231520465837098303609901289279010457446672086210041144541152928606467165194970117900966242597211132554051249992494968449554127576353868828578130981704819278688367624397368834174139823425919698069709600774481958527552764345044332257087935875803824092226400623295026680459256926005883718828116440246513385865677860851443210114412334853210366234087562491374327072980981255369881749797970373684168444826025593687486479671377052279451503991105362438566907341555981073989407807598234659583108134861029186106482717640647973886106980469002917613723161535404427946382753548096168719469387675522122855439860749992774885702126523234458319133167383541359741946878358063184575695509398998148143674314129758267460018854846814774465809149125369839147882325351540754300582336828963770285952720803661956513684986055891496481546727060717866732198187644371173313981273875386399443430576303640823060709819632607123071680230490434702556030325112629521356203618487502916456602170936371979043369551759568145933221772921576921206748198221850553014153337781455687061102117141633871212384572213341375915092784287852129823836782960375893326995607385042695301373931306507643789977977690982874547862671368566422859696579097317291226961518101714314373838293672306660133842761344048933284785029197226135659586970600998433303183482879901695549309745945967746362681231279175709435828392471629741164086359415202768472897883737291975581243718136832630979225451956638761037202360590324106043208234623773802379078947023372507012897691518290313700003358061700797577737602611129521497793456400979232200903529844494587865931408952442551538323791860172143737124533146699660289013250965100212490934577795124146074512681443114982712980830013377513889578107141594750817037123270473412643736248589613436411979988589061070740808155246883897800748724269622106843945422488402945892993384940965156070084780137128068578548162366026182657139729241528883524409102369815555212891872132081389737175865043803566904493251282359632991437948596295089840956458151643797370062360151189176484398829275612798308604574875741268047461314357046901592919330056518708763679119563008268504847832765028754687149415025844236707587802204504435663623879438149911855841046085293749265854233691736694900633905907044429228428860948623350344844756638686748108912719251437632047419660299517062679600619618257309434798070984552169305649259304924813950576964821604631445886644624345973024580853738255801865956370057200615649950574882133229535545077624543387166975756055189015958165084469057302023345745107866090392595201070569628213900036640619938895490064719093207394093311923747605212600959589022857632824754458708831251223351525786217673224123301411200641258619377671681817040941689048500970203021398295555423562933012405127256561470425662557439799006999842848895425372904394919773292413662099121685448800076444086520605185566626895642896829542137008269906028489208423089115182669853824034474123139855276449648276004402311222011213157039403662210355694962454369926511213001343554449215318767344257527462130921867957894073707582553479556970308060796834927554883113513234725723067867620565708146164537307456067428606231980016238965570215869500219962398771333443386593747471417751916000505818136031855610928850157700434638932987032805669658877086874504983325735716539365659985481325993705594156839823176041115140465503124510102033448678886664787028172530026997650908115706714834649044246260017642136711393779392425980033296547610937242920914956077638932024805103041531175123434749848296479840125360249814095647641849724869842078154075933737086185515071595772126634514641745327684059984433911838649801204956778669583490251310336070158307079560328084442147627703568631003593273182360801468549997481461812385943848380197528075823652861453501392862176725488550225635040997307533197789778564119303379702116215197829468195590884789635882689526459275054969592362267478868221730557676161430458615853628223693024068634503607528213504914662989520665898474696018198534903397399314097754100993588163466026768257573460650654648291173831643504625726884981167256418525627339323024675103059477688236736568741913260526026018021728850710425826348010839929960742570879118344249284154516081918210665213160689082194996140851358141370546030619705194730280311135348163899151912542985244964815745651717412832738089689566729861922663829239813642009963916637214803113183581798955603722807206239924208056521631977509502616009603866514959830359894359588586403327375857979494605400675216772772523728458642962627968750074663861947119986648620499854912985542507569879843589183036739834978597015733553478481422416925298131538274987905223512766038918606106327881155294909092561764811267845313362872220511692684008420670217336945415037127771521161816654926241386256330598129682380637348694357326797281620878998908784043097074312065164953871549137183705872768272364748937761606195555032295,
    #     1, 4443282643086905700476766658225773299077259174169685991521047657127147270712007293058381000844744592280131462280367665121878967050047211122978380865618425807381667398232610903333422261496423970065527947538211665626636478820595407506137278871134285737506427208596948671016521009474729927604856127830401367582670489059358250529671600130396961098264537470777922466578992433638211234869982284119929884134513747419494355472792122791439006619857250810751407082611648538416245263849842942963358565830502753876164626632024879973649605348333457397052693170537848874336096217656921333396581175038872373557993953346770573369988961172669153132435961564535321372530718813834602214973824190926164432668436723744366544809426238008483559875371767879092911041778246461582932087674223411511309088112529166782666188288500292308618166834907957704548569288117708335095775900183592760251769471962652089103225108344547389835276837173635296491646106539042520035941326041451739454263854994712281752723232315783370127781773073469882080580374559524847933866433744927647519720818736976460177744944170957631305481618801851767376532174505368237232654321925841004562774389137721558082563990181461721023897760323519886351462020797749762901640456927814132969935010449693824229601079235924586208747474324791207779424715929765975260918324641388286581631713334638367149113038542227424755364895071768736099641197385394832885264697709054421254621568407423312628772281383805744238200804645408352844416192976904075331216023922400956993795528523642039615266983224716521014927425592919168799423793010185514631510131380842040307085156832045022026003515800664866329270118430208592367679390664013527355271469840470764849349937990877977556329535342385457015717773119473693280839114918006491451901573065265673670726285725080740963086488722347596488886434231037878060585637232149615494993138462869936966444967851685966933189993900439460934899637197842051989350154718224422097494131101238714952186976560938953913229833194744382264247375376135459506989356002012083381439631497706759185942923417127474880766102705786169740951004373229668539426965646704734513654955077528575484765026676571061527026552267740518608044071495713883808789359946404151281198901201771191117765139705619850023329454183982466327563084590561049487061445650480134262132120153315749790683995613076558056351037785879139942464000788841769237761238919657784711700126564805145368731562881587665383086340002085266183636418079175260809211221128493359696210822960813579274127944558106252482438653368546900927168971327228057883322338966035580938535667145997424043868037538561638577535579268572510510207256078377555141980331736281296264158099716053284425076820962117492875580963514575190160454597107132660762219331161950556691513167474632412896997626039319002272051651230260545889952145407559789642061858442213536270919113106785835095698244039324203024720284279832779161765994516288271868148916190661852529524869639417164555284873722249661713106158590746490026703492689928078363967947804122360488758474596029504734758614804402761801665106429045309745926617004771677240508332489157314338303727985629628280755737445986316384223199445271713355840676716565443799091860680376583946951553684245023648690954622396013138632233869088511387149294823809615723194322555555974280235162715975851492342539800645944736050912920280631362508691753857938850562317793930887540713370760025706743424554122730711924527324057268150567262256583519563591568894907502080650960834940203131230658184878682236572522232959416437883729373592088797917942796177426638358850239707474895382364895246141337350558512000154430776023536009739864868619981488346291510322956579177072361638311756718637151832730562115)
    # t = time.time_ns() - t
    # print(t, j)
    #
    # t = time.time_ns()
    # j = 1603714835301930972078229412132678812393980131860314787241513836436621328476618338604614731973615086392044501597214767465462964679084714161973242407169876240067724694315652290382900438958301803514828304143960644101659871414328885885903003623018190108603598644313364742670651783532904391370354310814547042535658568560399253495804766672642244008613047615426733331287096046663165506406399967852352531697330943681766162431617999052653936377420817156168759973353824958213459033991291872183951688523761232251663821823894103373955382978909530930169327487359542166145453257433383037677550228946465508577948529385356955310975946560549986180600435917234723288031793480977958582136722190841058865826088288786261258974755020910526562095350805184980594127001528320025230136356910010798486091724449280655182766308300984440533208427050274093071716204471282286965524583145677382781135424657407654373719266422628705482167102787643708479785107796415139937243498146321924051013491011419169174183210853417856962824745121216387250951084683446873989748263762206093933947457411981092407280562696693550125637180431267633446328586021094135307489379306140718143970920811296042777806911041036112110140713940121771273005115506862554782707941034405228632555768025618636447952490240256955527651211848157032471163221681272877050739797307961896474937802972465249259945900318414013981288264938501501324672774216101035380073833991374648498374710668416441156716439755269872678432561976933579416782619115582828725730094856692156524995549768836402885483804688951546656399421821823902761364411274718026142011009589612015920522282077289489004672557106695817728631904144936611006643795620952083023194983968071455703929891761131464562586951430995613195566258687269412385596187656080972138395808068540593163394970760293375727037142496755065515419578854538732303896890117901742447812044355637629818097175324812886030126035067410318738805708162021394851368300018785178076610394238993001645306585257817746273674976407553744469345024625296833997030867260552984605111923664908716010607437589086116230457961999450387086469199367616020275669892591719623152672625587109486579024941717637247751025286235663025091598099021449863670775051906969583684889058991697529070956966864152002085532741973272570941679493056139711618996439737127041693448816773724073669154152213002708106053659692822141793099917018618513898437142055537287023910474619027097128575404161636394918862349480422621574782973726203721475847417675159005137519321889132258340694470630387218688758568511297709423709110481822614357866851028418129417123587860934476194931812278654899966885457543054652811166643975598929031409387756915291767799095405430733767197753674397718276598336961102309032125473134716506762978642505303367401019759621040762266532041808782711384948702212952235252455991368439437652201644148114631425608139913581713582649898325033678488396759408138469230825861646179798598929448286979079468705673536971173726349322307885538541253139665699905225727639198176198340197862409348772752558401211596180868119865295273174341822879836881283205798566111385465812076885764400374782499366955109563399567560565385618044805299861744163270426298126093785378791361894219185003251594763467220047061239864164037241341585751077431174946920727921613000301220099168165551428418011715257076063094522345753920962866237189502317752577882299147729051578789217128570333479644949881158691542645058595070521253652199026084116162117698982137057488745808235658837337245429959894674285332033163297449448276357690997247798491212064052634847354988541513420665236477476560231087946278060267008750082796308889109034532620946218677335477449377287374736770899333599141182677919559568032458947633069989911940754886896795283750105287598725906814013700724242249395877875817900682676490060828726107359873298590658636364318931728071541337840512393838156426817543240763387026303967826367009372099915359565686135791558986511587370463061453802448900766719943458853003073693922813061383536580259184713513444531618672511158222323967492327067436679204068435520538076793972195639761007851363260410124878359726999308776117521569671725219011693292400520024534373010617942435141412113909844087832085323385063637177105459790621504478004316597171551102665472257297510393936293826929389660876553175249751375853053007602274372682877832465016215301053765502035300178458559673980916667205455040448214867296252917492422426128723545368608437271387287408564345982369527182526003664117496004878399108148442946668542896317111650890005613138915783181409706945180748239633204095713280163537299969771725086402689476012558818903232729629889808447394605792744160448064721211088801050093068068143486715330178008846604979661851249716561878461860384535760279010485495086337085817241270819834240583999279707608183891153266864017528260567656545987946415229498941797449806595643704663975228231112808311888299385988507652663110072744307697791703497318981320599240906842377259952944182701161765597360830855002731973886867057537673346410301257969275951912155389182098243219138604317452102360438753055155566620656613722102059697363230535351864745824397166712736609570904769436231520465837098303609901289279010457446672086210041144541152928606467165194970117900966242597211132554051249992494968449554127576353868828578130981704819278688367624397368834174139823425919698069709600774481958527552764345044332257087935875803824092226400623295026680459256926005883718828116440246513385865677860851443210114412334853210366234087562491374327072980981255369881749797970373684168444826025593687486479671377052279451503991105362438566907341555981073989407807598234659583108134861029186106482717640647973886106980469002917613723161535404427946382753548096168719469387675522122855439860749992774885702126523234458319133167383541359741946878358063184575695509398998148143674314129758267460018854846814774465809149125369839147882325351540754300582336828963770285952720803661956513684986055891496481546727060717866732198187644371173313981273875386399443430576303640823060709819632607123071680230490434702556030325112629521356203618487502916456602170936371979043369551759568145933221772921576921206748198221850553014153337781455687061102117141633871212384572213341375915092784287852129823836782960375893326995607385042695301373931306507643789977977690982874547862671368566422859696579097317291226961518101714314373838293672306660133842761344048933284785029197226135659586970600998433303183482879901695549309745945967746362681231279175709435828392471629741164086359415202768472897883737291975581243718136832630979225451956638761037202360590324106043208234623773802379078947023372507012897691518290313700003358061700797577737602611129521497793456400979232200903529844494587865931408952442551538323791860172143737124533146699660289013250965100212490934577795124146074512681443114982712980830013377513889578107141594750817037123270473412643736248589613436411979988589061070740808155246883897800748724269622106843945422488402945892993384940965156070084780137128068578548162366026182657139729241528883524409102369815555212891872132081389737175865043803566904493251282359632991437948596295089840956458151643797370062360151189176484398829275612798308604574875741268047461314357046901592919330056518708763679119563008268504847832765028754687149415025844236707587802204504435663623879438149911855841046085293749265854233691736694900633905907044429228428860948623350344844756638686748108912719251437632047419660299517062679600619618257309434798070984552169305649259304924813950576964821604631445886644624345973024580853738255801865956370057200615649950574882133229535545077624543387166975756055189015958165084469057302023345745107866090392595201070569628213900036640619938895490064719093207394093311923747605212600959589022857632824754458708831251223351525786217673224123301411200641258619377671681817040941689048500970203021398295555423562933012405127256561470425662557439799006999842848895425372904394919773292413662099121685448800076444086520605185566626895642896829542137008269906028489208423089115182669853824034474123139855276449648276004402311222011213157039403662210355694962454369926511213001343554449215318767344257527462130921867957894073707582553479556970308060796834927554883113513234725723067867620565708146164537307456067428606231980016238965570215869500219962398771333443386593747471417751916000505818136031855610928850157700434638932987032805669658877086874504983325735716539365659985481325993705594156839823176041115140465503124510102033448678886664787028172530026997650908115706714834649044246260017642136711393779392425980033296547610937242920914956077638932024805103041531175123434749848296479840125360249814095647641849724869842078154075933737086185515071595772126634514641745327684059984433911838649801204956778669583490251310336070158307079560328084442147627703568631003593273182360801468549997481461812385943848380197528075823652861453501392862176725488550225635040997307533197789778564119303379702116215197829468195590884789635882689526459275054969592362267478868221730557676161430458615853628223693024068634503607528213504914662989520665898474696018198534903397399314097754100993588163466026768257573460650654648291173831643504625726884981167256418525627339323024675103059477688236736568741913260526026018021728850710425826348010839929960742570879118344249284154516081918210665213160689082194996140851358141370546030619705194730280311135348163899151912542985244964815745651717412832738089689566729861922663829239813642009963916637214803113183581798955603722807206239924208056521631977509502616009603866514959830359894359588586403327375857979494605400675216772772523728458642962627968750074663861947119986648620499854912985542507569879843589183036739834978597015733553478481422416925298131538274987905223512766038918606106327881155294909092561764811267845313362872220511692684008420670217336945415037127771521161816654926241386256330598129682380637348694357326797281620878998908784043097074312065164953871549137183705872768272364748937761606195555032295 % 4443282643086905700476766658225773299077259174169685991521047657127147270712007293058381000844744592280131462280367665121878967050047211122978380865618425807381667398232610903333422261496423970065527947538211665626636478820595407506137278871134285737506427208596948671016521009474729927604856127830401367582670489059358250529671600130396961098264537470777922466578992433638211234869982284119929884134513747419494355472792122791439006619857250810751407082611648538416245263849842942963358565830502753876164626632024879973649605348333457397052693170537848874336096217656921333396581175038872373557993953346770573369988961172669153132435961564535321372530718813834602214973824190926164432668436723744366544809426238008483559875371767879092911041778246461582932087674223411511309088112529166782666188288500292308618166834907957704548569288117708335095775900183592760251769471962652089103225108344547389835276837173635296491646106539042520035941326041451739454263854994712281752723232315783370127781773073469882080580374559524847933866433744927647519720818736976460177744944170957631305481618801851767376532174505368237232654321925841004562774389137721558082563990181461721023897760323519886351462020797749762901640456927814132969935010449693824229601079235924586208747474324791207779424715929765975260918324641388286581631713334638367149113038542227424755364895071768736099641197385394832885264697709054421254621568407423312628772281383805744238200804645408352844416192976904075331216023922400956993795528523642039615266983224716521014927425592919168799423793010185514631510131380842040307085156832045022026003515800664866329270118430208592367679390664013527355271469840470764849349937990877977556329535342385457015717773119473693280839114918006491451901573065265673670726285725080740963086488722347596488886434231037878060585637232149615494993138462869936966444967851685966933189993900439460934899637197842051989350154718224422097494131101238714952186976560938953913229833194744382264247375376135459506989356002012083381439631497706759185942923417127474880766102705786169740951004373229668539426965646704734513654955077528575484765026676571061527026552267740518608044071495713883808789359946404151281198901201771191117765139705619850023329454183982466327563084590561049487061445650480134262132120153315749790683995613076558056351037785879139942464000788841769237761238919657784711700126564805145368731562881587665383086340002085266183636418079175260809211221128493359696210822960813579274127944558106252482438653368546900927168971327228057883322338966035580938535667145997424043868037538561638577535579268572510510207256078377555141980331736281296264158099716053284425076820962117492875580963514575190160454597107132660762219331161950556691513167474632412896997626039319002272051651230260545889952145407559789642061858442213536270919113106785835095698244039324203024720284279832779161765994516288271868148916190661852529524869639417164555284873722249661713106158590746490026703492689928078363967947804122360488758474596029504734758614804402761801665106429045309745926617004771677240508332489157314338303727985629628280755737445986316384223199445271713355840676716565443799091860680376583946951553684245023648690954622396013138632233869088511387149294823809615723194322555555974280235162715975851492342539800645944736050912920280631362508691753857938850562317793930887540713370760025706743424554122730711924527324057268150567262256583519563591568894907502080650960834940203131230658184878682236572522232959416437883729373592088797917942796177426638358850239707474895382364895246141337350558512000154430776023536009739864868619981488346291510322956579177072361638311756718637151832730562115
    # t = time.time_ns() - t
    # print(t, j)
    #
    # t = time.time_ns()
    # j = modExp(1234, 12342345123451234, 64334253)
    # t = time.time_ns() - t
    # print(t, j)


if __name__ == '__main__':
    main()
